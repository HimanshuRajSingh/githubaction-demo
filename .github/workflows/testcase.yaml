name: Deploy Dist
on: [push, workflow_dispatch]
jobs:
     test:
         runs-on : ubuntu-latest
         steps: 
               - name: Get Code
                 uses: actions/checkout@v4
               - name: Install Node 20
                 uses: actions/setup-node@v4
                 with:
                    node-version: 20
               - name: print node version
                 run: node -v
               - name: install dependencies
                 run: npm install
               - name: Set up Python
                 uses: actions/setup-python@v4
                 with:
                    python-version: '3.9'
               - name: Install Python dependencies
                 run: pip install -r requirements.txt
               - name: Run tests
                 run: npm run test
     deploy:
         runs-on : ubuntu-latest
         steps: 
               - name: Get Code
                 uses: actions/checkout@v4
               - name: Install Node 20
                 uses: actions/setup-node@v4
                 with:
                    node-version: 20
               - name: print node version
                 run: node -v
               - name: install dependencies
                 run: npm install
               - name: Set up Python
                 uses: actions/setup-python@v4
                 with:
                    python-version: '3.9'
               - name: Install Python dependencies
                 run: pip install -r requirements.txt
               - name: Build Project
                 run: npm run build
               - name: Deploy
                 run: echo "Deployed successfully"
